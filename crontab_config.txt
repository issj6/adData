# 广告数据ETL定时任务配置
# 每天凌晨2:05执行ETL任务（处理昨天的数据）

# 安装方法：
# 1. 编辑crontab: crontab -e
# 2. 添加下面的任务行
# 3. 保存退出

# ETL任务：每天凌晨2:05执行，处理昨天的数据，回滚7天处理迟到回调
5 2 * * * cd /Users/yang/PycharmProjects/adData && /opt/homebrew/bin/python3 ad_stats_etl.py >> ad_stats_etl.log 2>&1

# 可选：每周日凌晨1:00清理30天前的日志文件
0 1 * * 0 find /Users/yang/PycharmProjects/adData -name "*.log" -mtime +30 -delete

# 说明：
# - 请根据实际路径修改 /Users/yang/PycharmProjects/adData
# - 请根据实际Python路径修改 /opt/homebrew/bin/python3
# - 日志会追加到 ad_stats_etl.log 文件中
# - 如需修改回滚天数，可在命令中添加 --rollback-days N 参数
